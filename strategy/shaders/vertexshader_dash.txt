#version 410 core


uniform mat4 world2clip_matrix;


layout(location=0) in vec3 position_in;
layout(location=1) in vec4 color_in;


flat out vec4 vertex_color;
flat out vec3 start_pos;
out vec3 vertex_pos;


void main(void) {
	vec4 pos = world2clip_matrix* vec4(position_in, 1.0);

	vertex_color = color_in;
	vertex_pos = pos.xyz / pos.w;
	start_pos = vertex_pos;

	gl_Position = pos;
}
