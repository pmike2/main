#version 410 core

// cf https://stackoverflow.com/questions/52928678/dashed-line-in-opengl3

//uniform vec2  resolution;
uniform float dash_size;
uniform float gap_size;


flat in vec4 vertex_color;
flat in vec3 start_pos;
in vec3 vertex_pos;

out vec4 frag_color;


void main(void) {
	vec2 dir = vertex_pos.xy - start_pos.xy;
	float dist = length(dir);

	if (fract(dist / (dash_size + gap_size)) > dash_size / (dash_size + gap_size)) {
		discard;
	}

	frag_color= vertex_color;
}
